tasks:
  # ------------------
  # Cluster-level backups
  # ------------------
  - id: backup_pg1
    description: "Perform a backup (full or incremental) on all databases in PG1 cluster."
    actions:
      - agent: backup_restore_pg1
        action: backup

  - id: backup_pg2
    description: "Perform a backup (full or incremental) on all databases in PG2 cluster."
    actions:
      - agent: backup_restore_pg2
        action: backup

  - id: backup_both
    description: "Perform a backup on both PG1 and PG2 clusters."
    actions:
      - agent: backup_restore_pg1
        action: backup
      - agent: backup_restore_pg2
        action: backup

  # ------------------
  # Restore backups
  # ------------------
  - id: restore_pg1
    description: "Restore PG1 cluster from a backup."
    inputs:
      - name: backup_name
        type: string
    actions:
      - agent: backup_restore_pg1
        action: restore

  - id: restore_pg2
    description: "Restore PG2 cluster from a backup."
    inputs:
      - name: backup_name
        type: string
    actions:
      - agent: backup_restore_pg2
        action: restore

  # ------------------
  # List backups
  # ------------------
  - id: list_pg1
    description: "List available backups for PG1 cluster."
    actions:
      - agent: backup_restore_pg1
        action: list

  - id: list_pg2
    description: "List available backups for PG2 cluster."
    actions:
      - agent: backup_restore_pg2
        action: list
